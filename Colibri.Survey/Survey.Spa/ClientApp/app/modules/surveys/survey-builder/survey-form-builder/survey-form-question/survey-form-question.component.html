<!-- <pre class='checkquestion'>{{question | json}}</pre> -->
<!-- <p>{{isEditQuestion}}</p> -->
<div *ngIf="!isEditQuestion" class="d-question-wrapper">
    <!-- <p>111{{question.controlType}}111</p> -->
    <div [formGroup]="form">
        <label [attr.for]="question.id">{{question.text}}
            <label *ngIf="question.required" style="color:red">*</label>
        </label>
        <br>
        <p>{{question.description}}</p>
        <!-- <label *ngIf="question.required" style="color:red">*</label> -->
        <div *ngIf="!!question.name">
            {{question.name}}
        </div>

        <div [ngSwitch]="question.controlType">
            <div *ngSwitchCase="'textbox'" [formGroupName]="question.id">
                <input [formControlName]="'answer'" [id]="question.id">
            </div>


            <div *ngSwitchCase="'textarea'" [formGroupName]="question.id">
                <textarea rows="5" [formControlName]="'answer'" [disabled]="true" [id]="question.id" style="width: 300px"></textarea>
            </div>


            <div *ngSwitchCase="'dropdown'" [formGroupName]="question.id">
                <select [id]="question.id" [disabled]="true" [formControlName]="'answer'" style="width: 200px">

                    <option *ngFor="let opt of question.options" [value]="opt.id">{{opt.value}}</option>
                </select>
            </div>


            <div *ngSwitchCase="'radio'">
                <!-- {{question.options | json}} -->
                <div class="form-check" *ngFor="let opt of question.options" [formGroupName]="question.id">
                    <input [formControlName]="'answer'" name="answer" type="radio" [value]="opt.id">
                    <label class="form-check-label">
                        {{opt.value}}
                    </label>
                </div>
            </div>


            <div *ngSwitchCase="'checkbox'" [formGroupName]="question.id">
                <div *ngFor="let opt of question.options">
                    <input type="checkbox" (change)="onChange(question.id, opt.id, $event.target.checked)" [checked]="opt.label"> {{opt.value}}
                    <br>
                </div>
                <!-- <div class="form-check" *ngFor="let opt of question.options">
                                  <input [id]="opt.id"  [formControlName]="question.id"   class="form-check-input" type="checkbox" [checked]="opt.value">
                                  <label class="form-check-label">
                                    {{opt.label}}
                                  </label>
                                </div> -->
            </div>



            <div *ngSwitchCase="'gridRadio'" [formGroupName]="question.id">
                <div [formGroupName]="'rows'">
                    <!-- <div [formGroupName]="itemRowLabel.id" *ngFor="let itemRowLabel of question.grid.rows let iItemRowLabel=index">
                            <input #val [formControlName]="'label'" name="label" value="itemRowLabel.value"  
                            type='radio'>
                            <input #val [formControlName]="'label'" name="label" value="itemRowLabel.value"  
                            type='radio'>
                            <p>11{{val.checked}}11</p>
                    </div> -->
                    <table style="border: 1px solid black">
                        <tr style="border: 1px solid black">
                            <td style="border: 1px solid black">////</td>
                            <td *ngFor="let itemColLabel of question.grid.cols let iItemColLabel=index" style="border: 1px solid black">
                                {{itemColLabel.value}}
                            </td>
                        </tr>
                        <tr [formGroupName]="itemRowLabel.id" *ngFor="let itemRowLabel of question.grid.rows let iItemRowLabel=index" style="border: 1px solid black">
                            <td style="border: 1px solid black">{{itemRowLabel.value}}11 11</td>
                            <td *ngFor="let itemCol of question.grid.cols let iItemCol=index"  style="border: 1px solid black">
                                <!-- <p > {{itemRowLabel.value}}</p>
                                <p > {{itemCol.value}}</p>
                                <p > {{itemCol.id}}</p> -->
                       
                                <input [formControlName]="'label'"  value="{{itemCol.id}}"
                                    type='radio'>
                            </td>
                        </tr>
                    </table>
                </div>
                <br>
            </div>



            <!-- <div *ngSwitchCase="'gridRadio'" [formGroupName]="question.id">
                <table [formGroupName]="'answer'">
                    <tr>
                        <td>////</td>
                        <td *ngFor="let itemColLabel of question.grid.cols let iItemColLabel=index">
                            {{itemColLabel.value}}
                        </td>
                    </tr>
                    <tr *ngFor="let itemRowLabel of question.grid.rows let iItemRowLabel=index">
                        <td>{{itemRowLabel.value}}</td>
                        <td *ngFor="let itemCol of question.grid.cols let iItemCol=index">
                            <input name="{{itemRowLabel.id}}"  (change)="onChangeGridRadio( itemRowLabel, itemCol, question.id, itemRowLabel.value, $event.target.checked)"
                                type='radio' >
                        </td>
                    </tr>
                </table>
                <br>
            </div> -->
            <div [formGroupName]="question.id" *ngIf="question.isAdditionalAnswer">
                additional answer:
                <input [formControlName]="'additionalAnswer'" type="text">
            </div>
        </div>
    </div>
</div>



<div *ngIf="isEditQuestion" class="d-question-wrapper">

    <div>
        <!-- <label [attr.for]="question.id">{{question.label}}</label> -->
        <div *ngIf="!!question.name">
            {{question.name}}
        </div>

        <div [ngSwitch]="question.controlType">
            <div *ngSwitchCase="'textbox'">
                question:
                <input [type]="text" [(ngModel)]="question.text" (keyup)="question.text = $event.target.value">
                <br> description:
                <input [type]="text" [(ngModel)]="question.description" (keyup)="question.description = $event.target.value">
                <br>
                <input disabled="true">
                <br>
                <p *ngIf="question.isAdditionalAnswer">!!!!! Additional answer !!!!!</p>
            </div>


            <div *ngSwitchCase="'textarea'">
                question:
                <input [type]="text" [(ngModel)]="question.text" (keyup)="question.text = $event.target.value">
                <br> description:
                <input [type]="text" [(ngModel)]="question.description" (keyup)="question.description = $event.target.value">
                <br>
                <textarea disabled="true"></textarea>
                <br>
                <p *ngIf="question.isAdditionalAnswer">!!!!! Additional answer !!!!!</p>
            </div>


            <div *ngSwitchCase="'dropdown'">
                question:
                <input [type]="text" [(ngModel)]="question.text" (keyup)="question.text = $event.target.value">
                <br> description:
                <input [type]="text" [(ngModel)]="question.description" (keyup)="question.description = $event.target.value">
                <p>--------------------------------------------------</p>
                <div *ngFor="let opt of question.options; let i = index">
                    <input [type]="text" [(ngModel)]="opt.value" (keyup)="opt.value = $event.target.value">
                    <button (click)="deleteItem(i, question.options)" type="button">x</button>
                </div>
                <button (click)="addItem(question.options)" type="button">Add item</button>
                <!-- <select [id]="question.id" [formControlName]="'answer'" style="width: 200px">
                            <option *ngFor="let opt of question.options" [value]="opt.id">{{opt.value}}</option>
                        </select> -->
                <br>
                <p *ngIf="question.isAdditionalAnswer">!!!!! Additional answer !!!!!</p>
            </div>


            <div *ngSwitchCase="'radio'">
                question:
                <input [type]="text" [(ngModel)]="question.text" (keyup)="question.text = $event.target.value">
                <br> description:
                <input [type]="text" [(ngModel)]="question.description" (keyup)="question.description = $event.target.value">
                <div *ngFor="let opt of question.options; let i = index">
                    <input [type]="text" [(ngModel)]="opt.value" (keyup)="opt.value = $event.target.value">
                    <button (click)="deleteItem(i, question.options)" type="button">x</button>
                </div>
                <button (click)="addItem(question.options)" type="button">Add item</button>
                <br>
                <p *ngIf="question.isAdditionalAnswer">!!!!! Additional answer !!!!!</p>
            </div>


            <div *ngSwitchCase="'checkbox'">
                question:
                <input [type]="text" [(ngModel)]="question.text" (keyup)="question.text = $event.target.value">
                <br> description:
                <input [type]="text" [(ngModel)]="question.description" (keyup)="question.description = $event.target.value">
                <div *ngFor="let opt of question.options; let i = index">
                    <input [type]="text" [(ngModel)]="opt.value" (keyup)="opt.value = $event.target.value">
                    <button (click)="deleteItem(i, question.options)" type="button">x</button>
                </div>
                <button (click)="addItem(question.options)" type="button">Add item</button>
                <br>
                <p *ngIf="question.isAdditionalAnswer">!!!!! Additional answer !!!!!</p>
            </div>


            <div *ngSwitchCase="'gridRadio'">

                <input [type]="text" [(ngModel)]="question.label" (keyup)="question.label = $event.target.value">
                <br> description:
                <input [type]="text" [(ngModel)]="question.description" (keyup)="question.description = $event.target.value">
                <p>--------------------------------------------------------- </p>
                rows:
                <br>
                <div *ngFor="let row of question.grid.rows; let i = index">
                    <input [type]="text" [(ngModel)]="row.label" (keyup)="row.label = $event.target.value">
                    <button (click)="deleteItem(i, question.grid.rows)" type="button">x</button>
                </div>
                <button (click)="addItem(question.grid.rows)" type="button">Add item</button>
                <br>

                <p>--------------------------------------------------------- </p>
                cols:
                <br>
                <div *ngFor="let col of question.grid.cols; let i = index">
                    <input [type]="text" [(ngModel)]="col.label" (keyup)="col.label = $event.target.value">
                    <button (click)="deleteItem(i, question.grid.cols)" type="button">x</button>
                </div>
                <button (click)="addItem(question.grid.cols)" type="button">Add item</button>
                <br>
                <p *ngIf="question.isAdditionalAnswer">!!!!! Additional answer !!!!!</p>
            </div>
            <!-- <div [formGroupName]="question.id" *ngIf="question.isAdditionalAnswer">
                additional answer:
                <input [formControlName]="'additionalAnswer'" type="text">
            </div> -->
        </div>
    </div>
</div>